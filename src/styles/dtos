export type PagedResult<T> = {
  items: T[];
  totalCount: number;
  pageNumber: number;
  pageSize: number;
  totalPages: number;
  hasPrevious: boolean;
  hasNext: boolean;
};

export type PaginationParams = {
  pageNumber?: number;   // default 1
  pageSize?: number;     // default 10 (max 50)
  search?: string;       // .NET: Search
};

export type BrandDetailDTO = {
  brandId: number;
  brandName?: string | null;
  brandDescription?: string | null;
  brandImageUrl?: string | null;
  brandWebsiteUrl?: string | null;
  brandCreatedAt?: string | null;
  brandUpdatedAt?: string | null;
};

export type CreateBrandDTO = {
  brandName?: string | null;
  brandDescription?: string | null;
  brandImageUrl?: string | null;
  brandWebsiteUrl?: string | null;
};
export type UpdateBrandDTO = CreateBrandDTO;

export type CategoryDetailDTO = {
  categoryId: number;
  categoryName?: string | null;
  categoryDescription?: string | null;
  categoryImageUrl?: string | null;
  categoryCreatedAt?: string | null;
  categoryUpdatedAt?: string | null;
};
export type CreateCategoryDTO = {
  categoryName?: string | null;
  categoryDescription?: string | null;
  categoryImageUrl?: string | null;
};
export type UpdateCategoryDTO = CreateCategoryDTO;

export type ColorDTO = {
  colorId: number;
  colorName?: string | null;
  colorHexCode?: string | null;
};
export type SizeDTO = {
  sizeId: number;
  sizeName?: string | null;
};
export type ProductStatusDTO = {
  productStatusId: number;
  productStatusName?: string | null;
};

export type CreateVariationDTO = {
  sizeId?: number | null;
  colorId?: number | null;
  variationImage?: string | null;
  variationPrice?: number | null;
};
export type UpdateVariationDTO = {
  variationId: number; // int
  sizeId?: number | null;
  colorId?: number | null;
  variationImage?: string | null;
  variationPrice?: number | null;
};
export type VariationDetailDTO = {
  variationId: number;
  productId?: string | null; // Guid?
  sizeId?: number | null;
  colorId?: number | null;
  variationImage?: string | null;
  variationPrice?: number | null;
  size?: SizeDTO | null;
  color?: ColorDTO | null;
};

export type CreateProductDTO = {
  productName?: string | null;
  productCode?: string | null;
  productDescription?: string | null;
  brandId?: number | null;
  productStatusId?: number | null;
  categoryIds?: number[] | null;
  variations?: CreateVariationDTO[] | null;
};
export type UpdateProductDTO = {
  productId?: string | null; // Guid?
  productName?: string | null;
  productCode?: string | null;
  productDescription?: string | null;
  brandId?: number | null;
  productStatusId?: number | null;
  categoryIds?: number[] | null;
  variations?: UpdateVariationDTO[] | null;
};

export type ProductDetailDTO = {
  productId: string; // Guid
  productName?: string | null;
  productCode?: string | null;
  productDescription?: string | null;
  brandId?: number | null;
  productStatusId?: number | null;
  productCreatedAt?: string | null;
  productUpdatedAt?: string | null;
  brand?: BrandDetailDTO | null;
  productStatus?: ProductStatusDTO | null;
  categories?: CategoryDetailDTO[] | null;
  variations?: VariationDetailDTO[] | null;
};
export type FilterQuery = {
  onlyAvailable?: boolean;       
  onlyActiveProducts?: boolean;  
};

export type FilterOptionsDTO = {
  colors: ColorDTO[];
  sizes: SizeDTO[];
};
// SaleDTO (Đã bổ sung)
export type SaleDTO = {
  saleId: number;
  saleTypeId?: number | null;
  saleStatusId?: number | null;
  saleValue?: number | null;
  saleStartDate?: string | null;
  saleEndDate?: string | null;
};

// ProductListDTO (Đã bổ sung thông tin giảm giá và các thuộc tính khác)
export type ProductListDTO = {
  productId: string; // Guid
  productName?: string | null;
  productCode?: string | null;
  productDescription?: string | null;

  // Brand
  brandId?: number | null;
  brandName?: string | null;

  // Status
  productStatusName?: string | null;

  // Categories
  categoryList: CategoryDTO[]; // Danh sách các category sản phẩm

  // Variation display
  variationImage?: string | null;
  variationPrice?: number | null;  // Giá của biến thể hiển thị

  // Pricing
  productPrice?: number | null;    // Giá gốc (nếu có)
  sale?: SaleDTO | null;            // Thông tin CTKM (tùy chọn)
  saleValue?: number | null;       // Giá trị KM (tỷ lệ % hoặc số tiền)

  // Ratings
  averageRating?: number | null; // Đánh giá trung bình
  totalRatings?: number | null;  // Tổng số đánh giá

  // Inventory
  quantity: number; // Số lượng sản phẩm
};
export type CategoryDTO = {
  categoryId: number;
  categoryName?: string | null;
};
// =============================
// Comment DTOs
// =============================

export type CreateCommentDTO = {
  reviewId: number;
  commentContent: string;
  parentCommentId?: number | null;
};

export type UpdateCommentDTO = {
  commentContent: string;
};

export type CommentDTO = {
  commentId: number;
  reviewId: number;
  commentContent: string;
  parentCommentId?: number | null;
  commentCreatedAt?: string | null;
  commentUpdatedAt?: string | null;
};

// =============================
// Review DTOs
// =============================

export type CreateReviewDTO = {
  productId: string; 
  userId: string; 
  orderId: string; 
  reviewRating: number;
  reviewComment?: string | null;
};

export type UpdateReviewDTO = {

  reviewRating: number;
};

export type ReviewDTO = {
  reviewId: number;
  productId?: string | null; 
  userId?: string | null;   
  orderId?: string | null;   
  reviewRating?: number | null;
  comments?: CommentDTO[] | null;
};